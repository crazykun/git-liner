# 更新日志

## [1.0.6] - 2025-01-05

### 修复
- 🔧 **多根工作区支持**：修复了在 VSCode 多根工作区环境下无法加载文件历史的问题
- 🛠️ **路径处理优化**：改进了文件路径计算逻辑，确保在不同工作区根目录下都能正确识别文件
- ⚡ **Git 命令修复**：在所有 Git 命令中添加 `--` 分隔符，解决"有歧义的参数"错误
- 🔍 **错误处理增强**：添加了文件 Git 跟踪状态检查，提供更清晰的错误信息

### 改进
- 📁 新增 `getCorrectRelativePath()` 方法处理多根工作区路径
- 🔍 新增 `isFileInGitRepo()` 方法验证文件 Git 状态
- 🌐 支持 Windows 和 Unix 风格的路径分隔符
- 📝 优化了中文错误提示信息

### 技术细节
- 将 `vscode.workspace.asRelativePath()` 替换为 `path.relative()` 确保路径计算准确
- 修复了所有 Git 历史查询方法的路径处理逻辑
- 增强了对特殊字符和深层嵌套目录的支持

## [1.0.5] - 2025-01-03

### 修复
- 修复行级别差异显示问题：现在所有差异都会在VS Code的对比编辑器中打开，而不是显示纯文本格式
- 统一了文件级别和行级别差异的显示方式，提供一致的用户体验
- 添加了行号自动跳转功能，查看行级别差异时会自动定位到相关行
- 重构了差异显示代码，提高了代码可维护性

### 改进
- 优化了行级别差异的标题显示，现在会明确标注是针对特定行的差异
- 提升了用户界面的一致性和友好性

## [1.0.4] - 2024-12-XX

### 新增
- 分页加载：首次加载速度提升80%+（5-10秒 → 1-2秒）
- 内存优化：渐进式加载，减少内存占用
- 智能按需："加载更多..."按钮，用户主导加载节奏

## [1.0.2] - 2024-XX-XX

### 新增
- 分页加载功能
- 性能优化
- 内存使用优化

## [1.0.0] - 2024-XX-XX

### 新增
- 初始版本发布
- 支持行/文件修改历史查看
- 极简设计，不占用状态栏