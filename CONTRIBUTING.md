# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢ä½ å¯¹ Git Liner é¡¹ç›®çš„å…³æ³¨ï¼æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š

- ğŸ› æŠ¥å‘Š Bug
- ğŸ’¡ æå‡ºæ–°åŠŸèƒ½å»ºè®®
- ğŸ“ æ”¹è¿›æ–‡æ¡£
- ğŸ”§ æäº¤ä»£ç ä¿®å¤
- ğŸŒ ç¿»è¯‘å’Œæœ¬åœ°åŒ–

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å¼€å‘ç¯å¢ƒè®¾ç½®

1. **Fork ä»“åº“**
   ```bash
   # åœ¨ GitHub ä¸Š Fork é¡¹ç›®
   # ç„¶åå…‹éš†ä½ çš„ Fork
   git clone https://github.com/your-username/git-liner.git
   cd git-liner
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

3. **å¯åŠ¨å¼€å‘æ¨¡å¼**
   ```bash
   # ç¼–è¯‘å¹¶ç›‘å¬æ–‡ä»¶å˜åŒ–
   npm run watch
   
   # æˆ–è€…ä½¿ç”¨æˆ‘ä»¬çš„å¼€å‘è„šæœ¬
   ./start.sh setup
   ```

4. **åœ¨ VSCode ä¸­è°ƒè¯•**
   - åœ¨ VSCode ä¸­æ‰“å¼€é¡¹ç›®
   - æŒ‰ `F5` å¯åŠ¨è°ƒè¯•æ¨¡å¼
   - è¿™ä¼šæ‰“å¼€ä¸€ä¸ªæ–°çš„ VSCode çª—å£ï¼ŒåŠ è½½å¼€å‘ä¸­çš„æ’ä»¶

### é¡¹ç›®ç»“æ„

```
git-liner/
â”œâ”€â”€ src/                          # æºä»£ç 
â”‚   â”œâ”€â”€ extension.ts              # æ’ä»¶å…¥å£
â”‚   â”œâ”€â”€ gitHistoryProvider.ts     # Git å†å²æ•°æ®æä¾›è€…
â”‚   â”œâ”€â”€ historyTreeProvider.ts    # æ ‘è§†å›¾æä¾›è€…
â”‚   â”œâ”€â”€ commands.ts               # å‘½ä»¤å¤„ç†
â”‚   â”œâ”€â”€ i18n.ts                   # å›½é™…åŒ–
â”‚   â””â”€â”€ test/                     # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ package.json                  # æ’ä»¶é…ç½®
â”œâ”€â”€ package.nls.json              # è‹±æ–‡æœ¬åœ°åŒ–
â”œâ”€â”€ package.nls.zh-cn.json        # ä¸­æ–‡æœ¬åœ°åŒ–
â””â”€â”€ tsconfig.json                 # TypeScript é…ç½®
```

## ğŸ“‹ è´¡çŒ®ç±»å‹

### ğŸ› æŠ¥å‘Š Bug

åœ¨æäº¤ Bug æŠ¥å‘Šå‰ï¼Œè¯·ï¼š

1. **æœç´¢ç°æœ‰ Issues** - ç¡®ä¿é—®é¢˜å°šæœªè¢«æŠ¥å‘Š
2. **ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬** - ç¡®è®¤é—®é¢˜åœ¨æœ€æ–°ç‰ˆæœ¬ä¸­ä»ç„¶å­˜åœ¨
3. **æä¾›è¯¦ç»†ä¿¡æ¯** - ä½¿ç”¨æˆ‘ä»¬çš„ Bug æŠ¥å‘Šæ¨¡æ¿

**Bug æŠ¥å‘Šåº”åŒ…å«ï¼š**
- æ¸…æ™°çš„é—®é¢˜æè¿°
- é‡ç°æ­¥éª¤
- é¢„æœŸè¡Œä¸º vs å®é™…è¡Œä¸º
- ç¯å¢ƒä¿¡æ¯ï¼ˆVSCode ç‰ˆæœ¬ã€æ“ä½œç³»ç»Ÿã€Git ç‰ˆæœ¬ï¼‰
- æˆªå›¾æˆ–é”™è¯¯æ—¥å¿—ï¼ˆå¦‚é€‚ç”¨ï¼‰

### ğŸ’¡ åŠŸèƒ½å»ºè®®

æˆ‘ä»¬æ¬¢è¿æ–°åŠŸèƒ½å»ºè®®ï¼è¯·ï¼š

1. **æ£€æŸ¥ç°æœ‰ Issues** - é¿å…é‡å¤å»ºè®®
2. **è¯¦ç»†æè¿°ç”¨ä¾‹** - è§£é‡Šä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªåŠŸèƒ½
3. **è€ƒè™‘å®ç°å¤æ‚åº¦** - ç®€å•çš„åŠŸèƒ½æ›´å®¹æ˜“è¢«æ¥å—

### ğŸ”§ ä»£ç è´¡çŒ®

#### å¼€å‘æµç¨‹

1. **åˆ›å»ºåˆ†æ”¯**
   ```bash
   git checkout -b feature/your-feature-name
   # æˆ–
   git checkout -b fix/your-bug-fix
   ```

2. **ç¼–å†™ä»£ç **
   - éµå¾ªç°æœ‰ä»£ç é£æ ¼
   - æ·»åŠ å¿…è¦çš„æ³¨é‡Š
   - ç¡®ä¿ç±»å‹å®‰å…¨

3. **æµ‹è¯•ä»£ç **
   ```bash
   # ç¼–è¯‘æ£€æŸ¥
   npm run compile
   
   # è¿è¡Œæµ‹è¯•
   npm test
   
   # ä»£ç æ ¼å¼æ£€æŸ¥
   npm run lint
   ```

4. **æäº¤ä»£ç **
   ```bash
   git add .
   git commit -m "feat: add new feature"
   git push origin feature/your-feature-name
   ```

5. **åˆ›å»º Pull Request**
   - ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜å’Œæè¿°
   - é“¾æ¥ç›¸å…³çš„ Issues
   - ç­‰å¾…ä»£ç å®¡æŸ¥

#### ä»£ç è§„èŒƒ

**TypeScript é£æ ¼**
- ä½¿ç”¨ 4 ç©ºæ ¼ç¼©è¿›
- ä½¿ç”¨åˆ†å·ç»“å°¾
- ä¼˜å…ˆä½¿ç”¨ `const` å’Œ `let`ï¼Œé¿å… `var`
- ä½¿ç”¨æ˜ç¡®çš„ç±»å‹æ³¨è§£

**å‘½åè§„èŒƒ**
- ç±»åï¼š`PascalCase`
- æ–¹æ³•å’Œå˜é‡ï¼š`camelCase`
- å¸¸é‡ï¼š`UPPER_SNAKE_CASE`
- æ–‡ä»¶åï¼š`camelCase.ts`

**æ³¨é‡Šè§„èŒƒ**
```typescript
/**
 * è·å–æ–‡ä»¶çš„ Git å†å²è®°å½•
 * @param filePath æ–‡ä»¶è·¯å¾„
 * @param page é¡µç ï¼ˆä»0å¼€å§‹ï¼‰
 * @param pageSize æ¯é¡µå¤§å°
 * @returns åˆ†é¡µçš„æäº¤è®°å½•
 */
async getFileHistory(filePath: string, page: number, pageSize: number): Promise<PaginatedResult<GitCommit>> {
    // å®ç°ä»£ç ...
}
```

#### æäº¤ä¿¡æ¯è§„èŒƒ

æˆ‘ä»¬ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

**ç±»å‹è¯´æ˜ï¼š**
- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: ä»£ç é‡æ„
- `test`: æ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

**ç¤ºä¾‹ï¼š**
```
feat: add line history pagination support

- Implement paginated loading for line history
- Add "Load More" button for better UX
- Optimize memory usage for large repositories

Closes #123
```

### ğŸ“ æ–‡æ¡£è´¡çŒ®

æ–‡æ¡£æ”¹è¿›åŒ…æ‹¬ï¼š
- README.md æ›´æ–°
- ä»£ç æ³¨é‡Šå®Œå–„
- ä½¿ç”¨æŒ‡å—ç¼–å†™
- API æ–‡æ¡£è¡¥å……

### ğŸŒ æœ¬åœ°åŒ–è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿å¤šè¯­è¨€æ”¯æŒï¼ç›®å‰æ”¯æŒï¼š
- è‹±æ–‡ (`package.nls.json`)
- ä¸­æ–‡ (`package.nls.zh-cn.json`)

æ·»åŠ æ–°è¯­è¨€ï¼š
1. å¤åˆ¶ `package.nls.json`
2. é‡å‘½åä¸º `package.nls.{locale}.json`
3. ç¿»è¯‘æ‰€æœ‰å­—ç¬¦ä¸²
4. æ›´æ–° `src/i18n.ts` æ·»åŠ è¯­è¨€æ”¯æŒ

## ğŸ” ä»£ç å®¡æŸ¥

æ‰€æœ‰ä»£ç è´¡çŒ®éƒ½éœ€è¦ç»è¿‡å®¡æŸ¥ï¼š

### å®¡æŸ¥æ ‡å‡†
- **åŠŸèƒ½æ­£ç¡®æ€§** - ä»£ç æ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œ
- **ä»£ç è´¨é‡** - æ˜¯å¦éµå¾ªæœ€ä½³å®è·µ
- **æ€§èƒ½å½±å“** - æ˜¯å¦å½±å“æ’ä»¶æ€§èƒ½
- **å…¼å®¹æ€§** - æ˜¯å¦ä¸ç°æœ‰åŠŸèƒ½å…¼å®¹
- **æµ‹è¯•è¦†ç›–** - æ˜¯å¦æœ‰è¶³å¤Ÿçš„æµ‹è¯•

### å®¡æŸ¥æµç¨‹
1. è‡ªåŠ¨æ£€æŸ¥ï¼ˆCI/CDï¼‰
2. ç»´æŠ¤è€…å®¡æŸ¥
3. ç¤¾åŒºåé¦ˆ
4. ä¿®æ”¹å’Œå®Œå–„
5. åˆå¹¶åˆ°ä¸»åˆ†æ”¯

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œç‰¹å®šæµ‹è¯•
npm test -- --grep "GitHistoryProvider"

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage
```

### ç¼–å†™æµ‹è¯•
- ä¸ºæ–°åŠŸèƒ½ç¼–å†™å•å…ƒæµ‹è¯•
- ä½¿ç”¨ Mocha å’Œ Chai æµ‹è¯•æ¡†æ¶
- æµ‹è¯•æ–‡ä»¶æ”¾åœ¨ `src/test/` ç›®å½•ä¸‹
- æµ‹è¯•æ–‡ä»¶å‘½åï¼š`*.test.ts`

### æµ‹è¯•ç¤ºä¾‹
```typescript
import * as assert from 'assert';
import { GitHistoryProvider } from '../gitHistoryProvider';

suite('GitHistoryProvider Tests', () => {
    test('should get file history', async () => {
        const provider = new GitHistoryProvider();
        const history = await provider.getFileHistory('/path/to/file.ts');
        
        assert.ok(Array.isArray(history));
        assert.ok(history.length >= 0);
    });
});
```

## ğŸ“¦ å‘å¸ƒæµç¨‹

ç»´æŠ¤è€…å‘å¸ƒæ–°ç‰ˆæœ¬çš„æµç¨‹ï¼š

1. **æ›´æ–°ç‰ˆæœ¬å·**
   ```bash
   npm version patch  # 1.0.6 -> 1.0.7
   npm version minor  # 1.0.6 -> 1.1.0
   npm version major  # 1.0.6 -> 2.0.0
   ```

2. **æ›´æ–° CHANGELOG.md**
   - è®°å½•æ–°åŠŸèƒ½ã€ä¿®å¤å’Œæ”¹è¿›
   - ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·

3. **æµ‹è¯•å’Œæ„å»º**
   ```bash
   npm run compile
   npm test
   npm run package
   ```

4. **å‘å¸ƒåˆ°å¸‚åœº**
   ```bash
   ./start.sh publish-all
   ```

## ğŸ¤ ç¤¾åŒºå‡†åˆ™

### è¡Œä¸ºå‡†åˆ™
- **å°Šé‡ä»–äºº** - ä¿æŒå‹å–„å’Œä¸“ä¸š
- **å»ºè®¾æ€§åé¦ˆ** - æä¾›æœ‰ç”¨çš„å»ºè®®å’Œæ‰¹è¯„
- **åŒ…å®¹æ€§** - æ¬¢è¿ä¸åŒèƒŒæ™¯çš„è´¡çŒ®è€…
- **è€å¿ƒ** - ç†è§£æ¯ä¸ªäººçš„æŠ€èƒ½æ°´å¹³ä¸åŒ

### æ²Ÿé€šæ¸ é“
- **GitHub Issues** - Bug æŠ¥å‘Šå’ŒåŠŸèƒ½è¯·æ±‚
- **GitHub Discussions** - ä¸€èˆ¬è®¨è®ºå’Œé—®ç­”
- **Pull Requests** - ä»£ç å®¡æŸ¥å’Œè®¨è®º

## ğŸ† è´¡çŒ®è€…è®¤å¯

æˆ‘ä»¬æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…çš„åŠªåŠ›ï¼è´¡çŒ®è€…å°†ï¼š
- åœ¨ README.md ä¸­è¢«åˆ—å‡º
- åœ¨å‘å¸ƒè¯´æ˜ä¸­è¢«æåŠ
- è·å¾—é¡¹ç›®ç»´æŠ¤è€…çš„æ„Ÿè°¢

## â“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœä½ åœ¨è´¡çŒ®è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. **æŸ¥çœ‹æ–‡æ¡£** - é˜…è¯» README.md å’Œç°æœ‰ä»£ç 
2. **æœç´¢ Issues** - çœ‹çœ‹æ˜¯å¦æœ‰ç±»ä¼¼é—®é¢˜
3. **æé—®** - åœ¨ GitHub Discussions ä¸­æé—®
4. **è”ç³»ç»´æŠ¤è€…** - é€šè¿‡ GitHub Issues è”ç³»

## ğŸ“š å­¦ä¹ èµ„æº

- [VSCode æ‰©å±•å¼€å‘æŒ‡å—](https://code.visualstudio.com/api)
- [TypeScript å®˜æ–¹æ–‡æ¡£](https://www.typescriptlang.org/docs/)
- [Git å®˜æ–¹æ–‡æ¡£](https://git-scm.com/doc)
- [Conventional Commits](https://www.conventionalcommits.org/)

---

å†æ¬¡æ„Ÿè°¢ä½ å¯¹ Git Liner é¡¹ç›®çš„è´¡çŒ®ï¼æ¯ä¸€ä¸ªè´¡çŒ®éƒ½è®©è¿™ä¸ªé¡¹ç›®å˜å¾—æ›´å¥½ã€‚ğŸ‰